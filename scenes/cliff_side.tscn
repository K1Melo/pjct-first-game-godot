[gd_scene load_steps=14 format=3 uid="uid://caamjuggkxue0"]

[ext_resource type="Script" path="res://scripts/cliff_side.gd" id="1_4tjv1"]
[ext_resource type="Texture2D" uid="uid://cbrgyi1rr21gt" path="res://art/tilesets/plains.png" id="1_lm3er"]
[ext_resource type="Texture2D" uid="uid://bbh5q4mdpovsl" path="res://art/tilesets/grass.png" id="2_egfno"]
[ext_resource type="Texture2D" uid="uid://cssupxs7804bv" path="res://art/objects/objects.png" id="5_irvxl"]
[ext_resource type="PackedScene" uid="uid://cycungcjfaveu" path="res://scenes/player.tscn" id="6_xusyg"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_73ph1"]
texture = ExtResource("2_egfno")
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_mt5id"]
texture = ExtResource("5_irvxl")
0:5/size_in_atlas = Vector2i(3, 4)
0:5/0 = 0
0:5/0/y_sort_origin = 15
0:5/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:5/0/physics_layer_0/angular_velocity = 0.0
0:5/0/physics_layer_0/polygon_0/points = PackedVector2Array(-11.5, 14.25, 7.5, 13.25, 11.5, 20.75, 8, 26.75, -5, 25.75, -11.5, 23.75)
0:1/0 = 0
0:1/0/y_sort_origin = 3
0:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:1/0/physics_layer_0/angular_velocity = 0.0
0:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, 0.25, 8, 1.25, 8, 8, -3, 8)
0:0/0 = 0
0:0/0/y_sort_origin = 2
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, 0.25, 8, 1.25, -0.5, 8)
10:7/size_in_atlas = Vector2i(2, 2)
10:7/0 = 0
10:7/0/y_sort_origin = 5
10:7/0/physics_layer_0/linear_velocity = Vector2(0, 0)
10:7/0/physics_layer_0/angular_velocity = 0.0
10:7/0/physics_layer_0/polygon_0/points = PackedVector2Array(-12.5, 1.25, 12.5, 2.25, 8, 8, -8, 8)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_vwlws"]
texture = ExtResource("1_lm3er")
1:4/0 = 0
1:4/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:4/0/physics_layer_0/angular_velocity = 0.0
2:4/0 = 0
2:4/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:4/0/physics_layer_0/angular_velocity = 0.0
3:4/0 = 0
3:4/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:4/0/physics_layer_0/angular_velocity = 0.0
1:5/0 = 0
1:5/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:5/0/physics_layer_0/angular_velocity = 0.0
2:5/0 = 0
2:5/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:5/0/physics_layer_0/angular_velocity = 0.0
3:5/0 = 0
3:5/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:5/0/physics_layer_0/angular_velocity = 0.0
1:6/0 = 0
1:6/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:6/0/physics_layer_0/angular_velocity = 0.0
2:6/0 = 0
2:6/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:6/0/physics_layer_0/angular_velocity = 0.0
3:6/0 = 0
3:6/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:6/0/physics_layer_0/angular_velocity = 0.0
4:4/0 = 0
4:4/0/physics_layer_0/linear_velocity = Vector2(0, 0)
4:4/0/physics_layer_0/angular_velocity = 0.0
1:0/0 = 0
1:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:0/0/physics_layer_0/angular_velocity = 0.0
2:0/0 = 0
2:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:0/0/physics_layer_0/angular_velocity = 0.0
3:0/0 = 0
3:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:0/0/physics_layer_0/angular_velocity = 0.0
3:1/0 = 0
3:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:1/0/physics_layer_0/angular_velocity = 0.0
2:1/0 = 0
2:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:1/0/physics_layer_0/angular_velocity = 0.0
1:1/0 = 0
1:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:1/0/physics_layer_0/angular_velocity = 0.0
1:2/0 = 0
1:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:2/0/physics_layer_0/angular_velocity = 0.0
2:2/0 = 0
2:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:2/0/physics_layer_0/angular_velocity = 0.0
3:2/0 = 0
3:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:2/0/physics_layer_0/angular_velocity = 0.0
4:0/0 = 0
4:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
4:0/0/physics_layer_0/angular_velocity = 0.0
5:1/0 = 0
5:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
5:1/0/physics_layer_0/angular_velocity = 0.0
5:0/0 = 0
5:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
5:0/0/physics_layer_0/angular_velocity = 0.0
4:1/0 = 0
4:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
4:1/0/physics_layer_0/angular_velocity = 0.0

[sub_resource type="TileSet" id="TileSet_km1a7"]
physics_layer_0/collision_layer = 1
sources/3 = SubResource("TileSetAtlasSource_73ph1")
sources/4 = SubResource("TileSetAtlasSource_mt5id")
sources/5 = SubResource("TileSetAtlasSource_vwlws")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_781rg"]
size = Vector2(62, 37)

[sub_resource type="Animation" id="Animation_oyymt"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("player:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(36, 185)]
}

[sub_resource type="Animation" id="Animation_f36cg"]
resource_name = "enter_cliff_side"
length = 2.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("player:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(36, 180), Vector2(36, 150)]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("player")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 1, 2, 2.5),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"values": [{
"args": [true, "up", "back_walk", false],
"method": &"on_cutscene_enter_cliffside"
}, {
"args": [false, "right", "side_idle", false],
"method": &"on_cutscene_enter_cliffside"
}, {
"args": [false, "left", "side_idle", true],
"method": &"on_cutscene_enter_cliffside"
}, {
"args": [false, "right", "side_idle", false],
"method": &"on_cutscene_enter_cliffside"
}]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_gw0u5"]
_data = {
"RESET": SubResource("Animation_oyymt"),
"enter_cliff_side": SubResource("Animation_f36cg")
}

[node name="cliff_side" type="Node2D"]
y_sort_enabled = true
script = ExtResource("1_4tjv1")

[node name="TileMap" type="TileMap" parent="."]
y_sort_enabled = true
tile_set = SubResource("TileSet_km1a7")
format = 2
layer_0/name = "Back"
layer_0/y_sort_enabled = true
layer_0/z_index = -2
layer_0/tile_data = PackedInt32Array(655383, 131077, 2, 655382, 131077, 2, 589845, 131077, 1, 589844, 131077, 1, 589843, 131077, 1, 524306, 131077, 1, 524305, 131077, 1, 458768, 131077, 1, 458767, 131077, 1, 458766, 131077, 1, 393229, 131077, 1, 393228, 131077, 1, 327691, 131077, 1, 327690, 131077, 1, 65547, 3, 0, 65548, 3, 0, 65549, 3, 0, 65550, 3, 0, 65551, 3, 0, 65552, 3, 0, 65553, 3, 0, 65554, 3, 0, 65555, 3, 0, 65556, 3, 0, 65557, 3, 0, 65558, 3, 0, 65559, 3, 0, 65560, 3, 0, 131084, 131077, 0, 131085, 131077, 0, 131086, 131077, 0, 196623, 131077, 1, 196624, 131077, 1, 196625, 131077, 1, 196626, 131077, 1, 196627, 196613, 1, 196628, 3, 0, 196629, 3, 0, 196630, 3, 0, 327699, 131077, 1, 262163, 262149, 1, 262162, 131077, 1, 262161, 131077, 1, 262160, 131077, 1, 262159, 131077, 1, 262158, 131077, 1, 196622, 131077, 1, 196621, 131077, 1, 196620, 131077, 1, 196619, 131077, 1, 262155, 131077, 1, 262156, 131077, 1, 327692, 131077, 1, 327693, 131077, 1, 262157, 131077, 1, 327694, 131077, 1, 393230, 131077, 1, 393231, 131077, 1, 327695, 131077, 1, 327696, 131077, 1, 393232, 131077, 1, 393233, 131077, 1, 327697, 131077, 1, 327698, 131077, 1, 393234, 131077, 1, 458770, 131077, 1, 458769, 131077, 1, 458771, 131077, 1, 393235, 131077, 1, 393236, 131077, 1, 327700, 131077, 1, 262164, 131077, 0, 262165, 131077, 0, 327701, 131077, 1, 393237, 131077, 1, 458773, 131077, 1, 458772, 131077, 1, 524308, 131077, 1, 524307, 131077, 1, 524309, 131077, 1, 524310, 131077, 1, 458774, 131077, 1, 393238, 131077, 1, 327702, 131077, 1, 262166, 131077, 0, 262167, 131077, 0, 196631, 3, 0, 131095, 3, 0, 131094, 3, 0, 131093, 3, 0, 131092, 3, 0, 131091, 196613, 0, 131090, 131077, 0, 131089, 131077, 0, 131088, 131077, 0, 131087, 131077, 0, 131096, 3, 0, 196632, 3, 0, 262168, 196613, 0, 327704, 196613, 1, 327703, 131077, 1, 393239, 131077, 1, 458775, 131077, 1, 524311, 131077, 1, 589847, 131077, 1, 589846, 131077, 1, 589848, 196613, 1, 524312, 196613, 1, 458776, 196613, 1, 393240, 196613, 1, 655384, 196613, 2, 655369, 131077, 2, 589833, 131077, 1, 524297, 131077, 1, 393226, 131077, 1, 458762, 131077, 1, 524298, 131077, 1, 589834, 131077, 1, 655370, 131077, 2, 655371, 131077, 2, 589835, 131077, 1, 524299, 131077, 1, 458763, 131077, 1, 393227, 131077, 1, 458764, 131077, 1, 524300, 131077, 1, 589836, 131077, 1, 655372, 131077, 2, 655373, 131077, 2, 589837, 131077, 1, 524301, 131077, 1, 458765, 131077, 1, 524302, 131077, 1, 589838, 131077, 1, 655374, 131077, 2, 655375, 131077, 2, 589839, 131077, 1, 524303, 131077, 1, 524304, 131077, 1, 589840, 131077, 1, 655376, 131077, 2, 655377, 131077, 2, 589841, 131077, 1, 589842, 131077, 1, 655378, 131077, 2, 655379, 131077, 2, 655380, 131077, 2, 655381, 131077, 2, 131083, 131077, 0, 0, 3, 0, 65536, 3, 0, 131072, 3, 0, 196608, 3, 0, 262144, 3, 0, 327680, 3, 0, 393216, 3, 0, 458752, 3, 0, 524288, 65541, 0, 589824, 65541, 1, 655360, 65541, 1, 720896, 65541, 1, 1, 3, 0, 65537, 3, 0, 131073, 3, 0, 196609, 3, 0, 262145, 3, 0, 327681, 3, 0, 393217, 3, 0, 458753, 3, 0, 524289, 131077, 0, 589825, 131077, 1, 655361, 131077, 1, 720897, 131077, 1, 2, 3, 0, 65538, 3, 0, 131074, 3, 0, 196610, 3, 0, 262146, 3, 0, 327682, 3, 0, 393218, 3, 0, 458754, 3, 0, 524290, 131077, 0, 589826, 131077, 1, 655362, 131077, 1, 720898, 131077, 1, 3, 3, 0, 65539, 3, 0, 131075, 3, 0, 196611, 3, 0, 262147, 3, 0, 327683, 3, 0, 393219, 3, 0, 458755, 3, 0, 524291, 131077, 0, 589827, 131077, 1, 655363, 131077, 1, 720899, 131077, 1, 4, 3, 0, 65540, 3, 0, 131076, 131077, 5, 196612, 3, 0, 262148, 3, 0, 327684, 3, 0, 393220, 3, 0, 458756, 3, 0, 524292, 131077, 0, 589828, 131077, 1, 655364, 262149, 0, 720900, 196613, 1, 5, 3, 0, 65541, 3, 0, 131077, 3, 0, 196613, 3, 0, 262149, 3, 0, 327685, 3, 0, 393221, 3, 0, 458757, 3, 0, 524293, 131077, 0, 589829, 131077, 1, 655365, 131077, 2, 720901, 3, 0, 6, 3, 0, 65542, 3, 0, 131078, 3, 0, 196614, 3, 0, 262150, 3, 0, 327686, 65541, 0, 393222, 65541, 1, 458758, 65541, 1, 524294, 327685, 1, 589830, 131077, 1, 655366, 131077, 2, 720902, 3, 0, 7, 3, 0, 65543, 3, 0, 131079, 3, 0, 196615, 3, 0, 262151, 3, 0, 327687, 131077, 0, 393223, 131077, 1, 458759, 131077, 1, 524295, 131077, 1, 589831, 131077, 1, 655367, 131077, 2, 720903, 3, 0, 8, 3, 0, 65544, 3, 0, 131080, 65541, 0, 196616, 65541, 1, 262152, 65541, 1, 327688, 327685, 1, 393224, 131077, 1, 458760, 131077, 1, 524296, 131077, 1, 589832, 131077, 1, 655368, 131077, 2, 720904, 3, 0, 9, 3, 0, 65545, 3, 0, 131081, 131077, 0, 196617, 131077, 1, 262153, 131077, 1, 327689, 131077, 1, 393225, 131077, 1, 458761, 131077, 1, 720905, 3, 0, 10, 3, 0, 65546, 3, 0, 131082, 131077, 0, 196618, 131077, 1, 262154, 131077, 1, 720906, 3, 0, 11, 3, 0, 720907, 3, 0, 12, 3, 0, 720908, 3, 0, 13, 3, 0, 720909, 3, 0, 14, 3, 0, 720910, 3, 0, 15, 3, 0, 720911, 3, 0, 16, 3, 0, 720912, 3, 0, 17, 3, 0, 720913, 3, 0, 18, 3, 0, 720914, 3, 0, 19, 3, 0, 720915, 3, 0, 20, 3, 0, 720916, 3, 0, 21, 3, 0, 720917, 3, 0, 22, 3, 0, 720918, 3, 0, 23, 3, 0, 720919, 3, 0, 24, 3, 0, 720920, 3, 0, 25, 3, 0, 65561, 3, 0, 131097, 3, 0, 196633, 3, 0, 262169, 3, 0, 327705, 3, 0, 393241, 3, 0, 458777, 3, 0, 524313, 3, 0, 589849, 3, 0, 655385, 3, 0, 720921, 3, 0)
layer_1/name = "Mid"
layer_1/y_sort_enabled = true
layer_1/tile_data = PackedInt32Array(655362, 6, 7, 589833, 6, 7, 655383, 655364, 7, 131092, 4, 1, 196620, 655364, 7, 65538, 131077, 5, 720908, 4, 1, 327701, 4, 5, 65559, 4, 5, 65550, 4, 5, 131077, 196613, 5, 655367, 655364, 7, 65545, 6, 1, 196610, 262149, 4, 720917, 4, 1, 65553, 327686, 0, 25, 327686, 0, 262145, 131077, 5, 196633, 4, 1, 2, 131077, 4, 393216, 65541, 5, 327680, 65541, 5, 262144, 65541, 5, 196608, 65541, 5, 131072, 65541, 5, 65536, 65541, 5, 0, 65541, 4, 1, 131077, 4, 3, 131077, 4, 4, 131077, 4, 5, 196613, 4, 65541, 196613, 5, 196613, 196613, 6, 196612, 131077, 6, 196611, 131077, 6, 262146, 196613, 5, 458752, 65541, 6, 458753, 131077, 6, 458754, 196613, 6, 393218, 196613, 5, 327682, 196613, 5, 393217, 131077, 5, 327681, 131077, 5, 196609, 131077, 5, 131073, 131077, 5, 65537, 131077, 5, 131074, 131077, 5, 131075, 131077, 5, 131076, 131077, 5, 65540, 131077, 5, 65539, 131077, 5, 327695, 655364, 7, 655375, 4, 5, 327704, 655364, 7, 8, 4, 5, 655369, 4, 1, 524309, 4, 1, 65547, 4, 1)
layer_2/name = "Front"
layer_2/y_sort_enabled = true
layer_2/z_index = 1
layer_2/tile_data = PackedInt32Array(131073, 6, 5, 4, 6, 5)
layer_3/name = "Mid-Back"
layer_3/y_sort_enabled = true
layer_3/z_index = -1
layer_3/tile_data = PackedInt32Array(458765, 196610, 4, 327691, 131074, 4, 393224, 196610, 4, 393232, 65538, 4, 327689, 65538, 4)

[node name="collision" type="StaticBody2D" parent="."]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="collision"]
polygon = PackedVector2Array(92, 6, 93, 58, 49, 64, 46, 122, 0, 126, 1, 191, 7, 227, 69, 227, 70, 191, 415, 191, 414, -3, 99, -1, 427, -7, 420, 211, -4, 237, -10, 124)

[node name="player" parent="." instance=ExtResource("6_xusyg")]
position = Vector2(36, 185)

[node name="cliffside_exit_point" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="cliffside_exit_point"]
position = Vector2(38, 208.5)
shape = SubResource("RectangleShape2D_781rg")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_gw0u5")
}

[connection signal="body_entered" from="cliffside_exit_point" to="." method="_on_cliffside_exit_point_body_entered"]
[connection signal="body_exited" from="cliffside_exit_point" to="." method="_on_cliffside_exit_point_body_exited"]
